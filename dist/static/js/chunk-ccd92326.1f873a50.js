(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccd92326"],{"0d9c":function(t,e,n){"use strict";n("b79a")},"7726f":function(t,e,n){"use strict";n("9dbe")},9306:function(t,e,n){"use strict";n.r(e);var i,a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page page-editor"},[e("div",{staticClass:"editor-header-wrapper"},[e("div",{staticClass:"editor-header-back"},[e("el-button",{attrs:{size:"mini",type:"info"},on:{click:t.goBack}},[e("i",{staticClass:"el-icon-d-arrow-left"}),t._v("\n          返回\n      ")])],1),e("div",{staticClass:"editor-header-docs-title"},[e("el-input",{staticClass:"editor-header-docs-title-input",attrs:{type:"text",placeholder:"请输入标题",maxlength:"18","show-word-limit":""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e("div",{staticClass:"editor-header-operation text-right"},[t.templateList.length&&["docs","sheet"].includes(t.type)?e("el-dropdown",{staticClass:"marginR15"},[e("el-button",{attrs:{size:"mini"}},[t._v("我的模板"),e("i",{staticClass:"el-icon-arrow-down"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.templateList,(function(n,i){return e("el-dropdown-item",{key:i},[e("div",{on:{click:function(e){return t.insertTemplate(n)}}},[t._v(t._s(n.title))])])})),1)],1):t._e(),e("el-dropdown",{attrs:{"split-button":"",size:"mini",type:"primary"},on:{click:t.saveDocument}},[t._v("\n        保存\n        "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[["docs","sheet"].includes(t.type)?e("el-dropdown-item",[e("div",{on:{click:t.saveAsTemplate}},[t._v("存为模板")])]):t._e()],1)],1)],1)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"editor-wrapper"},["docs"===t.type?[e("docsEdit",{ref:"edit",attrs:{content:t.content}})]:t._e(),"sheet"===t.type?[e("excelEdit",{ref:"edit",attrs:{content:t.content}})]:t._e(),"axure"===t.type?[e("axureEdit",{ref:"edit",attrs:{content:t.content}})]:t._e()],2)])},o=[],s=n("bd86"),d=(n("bd49"),n("450d"),n("18ff")),c=n.n(d),r=(n("960d"),n("defb")),l=n.n(r),u=(n("cb70"),n("b370")),h=n.n(u),p=(n("10cb"),n("f3ad")),f=n.n(p),m=(n("1951"),n("eedf")),b=n.n(m),g=(n("7f7f"),n("ae26"),n("845f")),y=n.n(g),v=0,w={components:(i={},Object(s["a"])(i,y.a.name,y.a),Object(s["a"])(i,b.a.name,b.a),Object(s["a"])(i,f.a.name,f.a),Object(s["a"])(i,h.a.name,h.a),Object(s["a"])(i,l.a.name,l.a),Object(s["a"])(i,c.a.name,c.a),Object(s["a"])(i,"docsEdit",(function(){return Promise.all([n.e("chunk-75e207f5"),n.e("chunk-ded8e3fa")]).then(n.bind(null,"6772"))})),Object(s["a"])(i,"excelEdit",(function(){return Promise.all([n.e("chunk-27742b86"),n.e("chunk-42522d03")]).then(n.bind(null,"2ebb"))})),Object(s["a"])(i,"axureEdit",(function(){return Promise.all([n.e("chunk-1e8c696c"),n.e("chunk-49c42ecf"),n.e("chunk-4ff368c5")]).then(n.bind(null,"910e"))})),i),data:function(){return{loading:!1,id:"",parentId:"",type:"",title:"",content:"",documentData:{},templateList:[]}},created:function(){this.id=this.$route.query.id,this.isTemplate=this.$route.query.isTemplate,this.parentId=this.$route.query.parentId,this.type=this.$route.query.type,v=window.history.length},mounted:function(){this.id&&this.getData(),this.getMyTemplateList()},methods:{goBack:function(){window.history.go(v-window.history.length-1)},getData:function(){var t=this;this.loading=!0,this.$API.getDocumentDetail({id:this.id}).then((function(e){t.loading=!1,t.title=e.body.document.title||"",t.content=e.body.document.content||"",t.documentData=e.body.document})).catch((function(){t.loading=!1}))},saveDocument:function(){var t=this;this.loading=!0;var e=this.$refs.edit.getContent();this.$API.createDocument({id:this.id,parentId:this.parentId,title:this.title||"新建文档",content:e,type:this.type,isTemplate:this.isTemplate}).then((function(){t.loading=!1,t.goBack()})).catch((function(){t.loading=!1}))},saveAsTemplate:function(){this.isTemplate=!0,this.saveDocument()},getMyTemplateList:function(){var t=this;this.$API.getMyTemplate({type:this.type}).then((function(e){t.templateList=e.body||[]}))},insertTemplate:function(t){var e=this;this.loading=!0;var n=this.$refs.edit;this.$API.getDocumentDetail({id:t._id}).then((function(t){e.loading=!1,n.insertContent&&n.insertContent(t.body.document.content)})).catch((function(){e.loading=!1}))}}},k=w,_=(n("7726f"),n("0d9c"),n("2877")),C=Object(_["a"])(k,a,o,!1,null,"4fefd02d",null);e["default"]=C.exports},"9dbe":function(t,e,n){},ae26:function(t,e,n){},b79a:function(t,e,n){}}]);