(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c6f18d1"],{"858b":function(t,e,a){"use strict";a.r(e);var s,i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-my-document"},[e("div",{staticClass:"dash-board-operator-wrapper"},[e("div",{staticClass:"dash-board-title"},[t._v("我的团队")]),e("div",{staticClass:"pull-right"},[e("el-button",{staticClass:"new-docs-btn",attrs:{size:"mini",icon:"el-icon-plus"},on:{click:function(e){return t.showNew(!0)}}},[t._v("新建")])],1)]),e("div",{staticClass:"docs-list-wrapper scroll-wrapper"},[t._m(0),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"list-wrapper"},[t._l(t.groupList,(function(a,s){return[e("ul",{key:s,staticClass:"group-list-table group-list-table-row"},[e("li",{staticClass:"group-list-row-date"},[e("i",{staticClass:"iconfont icon-yonghushu"}),t._v("\n            "+t._s(a.name)+"\n          ")]),e("li",{staticClass:"group-list-row-date"},[e("div",{staticClass:"member-list blue"},[t._v(t._s(a.members.length))])]),e("li",{staticClass:"group-list-row-date"},[t._v(t._s(t._f("formatTime")(a.created,"yyyy-MM-dd")))]),e("li",{staticClass:"group-list-row-date"},[t._v(t._s(t._f("formatTime")(a.updated,"yyyy-MM-dd")))]),e("li",{staticClass:"group-list-title--op"},[e("el-dropdown",[e("i",{staticClass:"font-p-color el-icon-setting"}),e("el-dropdown-menu",[e("el-dropdown-item",[e("div",{on:{click:function(e){return t.showNew(a)}}},[t._v("编辑")])]),e("el-dropdown-item",[e("div",{on:{click:function(e){return t.showMemberManage(a)}}},[t._v("成员管理")])]),e("el-dropdown-item",{attrs:{command:"edit"}},[e("div",{staticClass:"error",on:{click:function(e){return t.delGroup(a._id)}}},[t._v("删除")])])],1)],1)],1)])]})),t.noData?e("noFunData"):t._e()],2)]),e("el-dialog",{staticClass:"page-dialog-wrapper",attrs:{title:t.newGroupData.id?"编辑":"新增",width:"480px",visible:t.newDiolagVisible},on:{"update:visible":function(e){t.newDiolagVisible=e}}},[e("el-form",{staticClass:"paddingR30",attrs:{"label-width":"110px"}},[e("el-form-item",{attrs:{label:"团队名称："}},[e("el-input",{attrs:{placeholder:"请输入团队名称"},model:{value:t.newGroupData.name,callback:function(e){t.$set(t.newGroupData,"name",e)},expression:"newGroupData.name"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeNew}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.newGroup}},[t._v("提交")])],1)],1),e("el-dialog",{staticClass:"page-dialog-wrapper",attrs:{title:"成员管理",width:"650px",visible:t.userDiolagVisible},on:{close:t.getData,"update:visible":function(e){t.userDiolagVisible=e}}},[e("div",{staticClass:"add-user-wrapper"},[e("div",{staticClass:"search-w"},[e("div",{staticClass:"search-input-wrapper"},[e("div",{staticClass:"input-item"},[e("el-select",{staticClass:"input-i",attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入用户名|昵称搜索","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},t._l(t.userOptions,(function(t){return e("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),e("div",{staticClass:"qr-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:t.addGroupUser}},[t._v("添加")])],1)])]),e("div",{staticClass:"user-list-wrapper"},[e("div",{staticClass:"title"},[t._v("已加入成员:")]),e("div",{staticClass:"user-list"},t._l(t.selectUser,(function(a,s){return e("el-tag",{key:s,staticClass:"user-item",attrs:{size:"mini",closable:""},on:{close:function(e){return t.delGroupUser(a._id,s)}}},[e("img",{staticClass:"userHeadImage",attrs:{src:a.avatar||t.userHeadImage,alt:""}}),t._v("\n            "+t._s(a.name)+"\n          ")])})),1)])])])],1)},n=[function(){var t=this,e=t._self._c;return e("ul",{staticClass:"group-list-table group-list-title"},[e("li",{staticClass:"group-list-title-name"},[t._v("团队名称")]),e("li",{staticClass:"group-list-title-date"},[t._v("成员数量")]),e("li",{staticClass:"group-list-title-date"},[t._v("创建时间")]),e("li",{staticClass:"group-list-title-date"},[t._v("更新时间")]),e("li",{staticClass:"group-list-title--op"},[t._v("操作")])])}],o=a("bd86"),r=(a("10cb"),a("450d"),a("f3ad")),l=a.n(r),c=(a("1951"),a("eedf")),u=a.n(c),d=(a("a7cc"),a("df33")),p=a.n(d),m=(a("eca7"),a("3787")),g=a.n(m),b=(a("425f"),a("4105")),f=a.n(b),w=(a("bd49"),a("18ff")),h=a.n(w),v=(a("960d"),a("defb")),_=a.n(v),C=(a("cb70"),a("b370")),D=a.n(C),G=(a("6611"),a("e772")),y=a.n(G),k=(a("1f1a"),a("4e4b")),I=a.n(k),O=(a("7f7f"),a("cbb5"),a("8bbc")),U=a.n(O),j=a("66aa"),M={components:(s={noFunData:j["a"]},Object(o["a"])(s,U.a.name,U.a),Object(o["a"])(s,I.a.name,I.a),Object(o["a"])(s,y.a.name,y.a),Object(o["a"])(s,D.a.name,D.a),Object(o["a"])(s,_.a.name,_.a),Object(o["a"])(s,h.a.name,h.a),Object(o["a"])(s,f.a.name,f.a),Object(o["a"])(s,g.a.name,g.a),Object(o["a"])(s,p.a.name,p.a),Object(o["a"])(s,u.a.name,u.a),Object(o["a"])(s,l.a.name,l.a),s),data:function(){return{userHeadImage:a("7724"),loading:!1,searching:!1,noData:!1,newDiolagVisible:!1,userDiolagVisible:!1,groupList:[],userOptions:[],user:[],selectUser:[],newGroupData:{id:"",name:""},currentGroupId:""}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,this.$API.getUserGroupList().then((function(e){t.groupList=e.body||[],t.loading=!1,t.noData=!t.groupList.length})).catch((function(){t.loading=!1}))},showNew:function(t){this.newGroupData.id=t._id,this.newGroupData.name=t.name,this.newDiolagVisible=!0},closeNew:function(){this.newDiolagVisible=!1,this.newGroupData.id="",this.newGroupData.name=""},delGroup:function(t){var e=this;this.$API.delUserGroup({id:t}).then((function(){e.getData(),e.closeNew()}))},newGroup:function(){var t=this;this.$API.createUserGroup(this.newGroupData).then((function(){t.getData(),t.closeNew()}))},showMemberManage:function(t){this.currentGroupId=t._id,this.selectUser=t.members,this.userDiolagVisible=!0},delGroupUser:function(t,e){var a=this;this.$API.delUserFromGroup({groupId:this.currentGroupId,userId:t}).then((function(){a.selectUser.splice(e,1)}))},addGroupUser:function(){var t=this;this.$API.addUserToGroup({groupId:this.currentGroupId,userList:this.user}).then((function(e){t.selectUser=e.body.members,t.user=[],t.userOptions=[]}))},remoteMethod:function(t){var e=this;this.$API.getUserListByKeywords({keywords:t}).then((function(t){e.userOptions=t.body||[]}))}}},V=M,N=(a("9bf4"),a("2877")),x=Object(N["a"])(V,i,n,!1,null,"32c16684",null);e["default"]=x.exports},"8c50":function(t,e,a){},"9bf4":function(t,e,a){"use strict";a("8c50")}}]);